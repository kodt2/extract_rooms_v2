# extract_rooms_v2

Сервис для загрузки расписания ННГУ, очистки данных и подбора свободных аудиторий.

## Возможности
- Скачивание raw JSON по корпусам из `/ruzapi/schedule/building/{building_oid}`.
- Обрезка данных до минимально нужного формата: дата, корпус, аудитория, вместимость, интервал пары.
- Плановое обновление расписания в 04:00 и 16:00 по МСК.
- Подбор аудиторий для пакета запросов без пересечений внутри одного батча.
- Второй режим: генерация отчета (пока текстовый stub с расширением `.pdf`).
- Заготовка для Telegram-бота.

## Формат входного запроса
`Имя Фамилия Цель дд.мм чч:мм чч:мм тип_аудитории`

Поддерживаемые типы аудитории:
- `any`, `any2`, `any6`
- `big`, `big2`, `big6`
- или конкретный номер аудитории (например, `140`)

## Запуск
```bash
cp config.example.json config.json
python -m app.main refresh --config config.json
python -m app.main allocate --config config.json --request "Иван Иванов Консультация 12.02 09:00 10:30 any"
```

## Примечания
- Если нужной даты нет в расписании: `no day in schedule`.
- Если аудиторию подобрать нельзя: `no free room`.
